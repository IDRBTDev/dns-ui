<div class="card mt-3" style="border: none;">
    <div class="card-body">

        <!-- 
  <mat-card
class="form-card shadow-lg"
> -->
        <div [formGroup]="nameServerForm">

            <h3>Name Server Details</h3>

            <p>Do you have Name Server Details?</p>

            <!-- Radio buttons for Yes/No -->

            <div>

                <input type="radio" formControlName="hasNSDetails" value="yes" id="hasNSDetailsYes" />

                <label for="hasNSDetailsYes" class="radio-spacing">

                    &nbsp;I have NS details (can be updated later)

                </label>

                <input type="radio" formControlName="hasNSDetails" value="no" id="hasNSDetailsNo" />

                <label for="hasNSDetailsNo">&nbsp; I will set it later
                </label>

            </div>

            <!-- Name Server fields - only shown if "I have NS details" is selected -->

            <div *ngIf="hasNSDetails">

                <div formArrayName="nameServers">

                    <div *ngFor="let server of nameServers.controls; let i = index" [formGroupName]="i"
                        class="ns-group">

                        <!-- Host Name Field -->

                        <div class="ns-input">

                           
                            <label for="{{ i + 1 }}host" class="form-label">Name Server {{ i + 1 }} Host
                                Name</label><span class="text-danger">*</span>

                            <input type="text" id="{{ i + 1 }}host" formControlName="hostName" class="custom-text-field"
                                placeholder="Name Server {{ i + 1 }} - Host Name" required />

                            <!-- <div *ngIf="

                  server.get('hostName')?.invalid &&

                  server.get('hostName')?.touched

                " class="error-message">

                                Host name is required

                            </div>
                            <div *ngIf="server.get('hostName')?.hasError('duplicateHostName') && server.get('hostName')?.value">This hostname is already.</div>
                        </div> -->
                        <div *ngIf="server.get('hostName')?.invalid && server.get('hostName')?.touched" class="error-message">
                            <!-- IP address required error -->
                            <div *ngIf="server.get('hostName')?.hasError('required')">
                            Host Name is required.
                            </div>
                          
                          
                            <!-- Duplicate IP address error, only show if the IP address is not empty -->
                            <div *ngIf="server.get('hostName')?.hasError('duplicateHostName') && server.get('hostName')?.value">
                              This hostName is already in use. Please provide a unique hostName .
                            </div>
                          </div></div>
                        <!-- IP Address Field -->

                        <!-- <div class="ns-input">

                        
                            <label for="{{ i + 1 }}ipAddress" class="form-label">Name Server {{ i + 1 }} IP Address</label><span class="text-danger">*</span>

                            <input type="text" id="{{ i + 1 }}ipAddress" formControlName="ipAddress"
                                class="custom-text-field" placeholder="Name Server {{ i + 1 }} - IP Address" required />


                            <div *ngIf="server.get('ipAddress')?.invalid && server.get('ipAddress')?.touched" class="error-message">
                                <div *ngIf="server.get('ipAddress')?.hasError('required')">IP address is required.</div>
                                <div *ngIf="server.get('ipAddress')?.hasError('pattern')">
                                  Invalid IP address format. Please enter a valid IP address.
                                </div>
                                
                              </div>
                              
                        </div> -->
                        <div class="ns-input">
                            <label for="{{ i + 1 }}ipAddress" class="form-label">Name Server {{ i + 1 }} IP Address</label><span class="text-danger">*</span>
                          
                            <input type="text" id="{{ i + 1 }}ipAddress" formControlName="ipAddress" class="custom-text-field" placeholder="Name Server {{ i + 1 }} - IP Address" required />
                          
                            <div *ngIf="server.get('ipAddress')?.invalid && server.get('ipAddress')?.touched" class="error-message">
                                <!-- IP address required error -->
                                <div *ngIf="server.get('ipAddress')?.hasError('required')">
                                  IP address is required.
                                </div>
                              
                                <!-- Invalid IP format error -->
                                <div *ngIf="server.get('ipAddress')?.hasError('pattern')">
                                  Invalid IP address format. Please enter a valid IP address.
                                </div>
                              
                                <!-- Duplicate IP address error, only show if the IP address is not empty -->
                                <div *ngIf="server.get('ipAddress')?.hasError('duplicateIpAddress') && server.get('ipAddress')?.value">
                                  This IP address is already in use. Please provide a unique IP address.
                                </div>
                              </div>
                              
                          
                </div>
            </div>
                    </div>
                </div>
            </div>
            <!-- Add/Remove name server buttons -->
            <div class="button-group">
                <div>
                    <button class="btn btn-primary" (click)="addNameServer()">
                        Add More NS
                    </button>
                    &nbsp;
                    <button class="btn btn-primary" (click)="removeLastNameServer()">
                        Cancel
                    </button>
                </div>
              
                <div *ngIf="nameServers.length>4" style="color: rgba(0, 124, 248, 1);font-weight: 500;">
                    <span style="color:red">*</span> The Price has been updated to {{price}} â‚¹

                </div>
            </div>

            <div class="navigation-buttons">

                <button class="btn btn-primary" (click)="goBack()">Back</button>
                <button class="btn btn-primary" (click)="onSubmit()">Save & Next</button>
            </div>
        </div>
        <!-- </mat-card> -->