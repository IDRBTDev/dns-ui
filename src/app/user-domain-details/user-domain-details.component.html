

<div class="container-fluid">
  <div class="row">
    <!-- Main Content Section -->
    <div class="col-md-9 offset-md-1 mt-5 pt-4">

      <!-- First Section with Form Fields -->
      <section class="m-4">
        <h2 class="m-4">Domains</h2>
        <div class="shadow p-3 mb-4 bg-body rounded">
          <div class="card">
            <div class="card-body">
              <!-- Bind the form group to the form -->
              <form [formGroup]="userDomainForm">
                <div class="row mb-3 justify-content-center">

                  <!-- Bank Name Field -->
                  <div class="col-md-4 mb-3">
                    <label for="bankNameInput" class="form-label font-weight-bold">Bank Name</label>
                    <input 
                      type="text" 
                      class="form-control" 
                      id="bankNameInput" 
                      placeholder="Enter Your Bank Name" 
                      formControlName="bankName">
                    <!-- Validation Error Message -->
                    <div *ngIf="userDomainForm.get('bankName')?.invalid && userDomainForm.get('bankName')?.touched" class="text-danger">
                      <small *ngIf="userDomainForm.get('bankName')?.hasError('required')">Bank Name is required.</small>
                      <small *ngIf="userDomainForm.get('bankName')?.hasError('minlength')">Bank Name must be at least 3 characters long.</small>
                    </div>
                  </div>

                  <!-- Domain Field with Magnifying Glass Button -->
                  <div class="col-md-2">
                    <label for="domainSelect" class="form-label font-weight-bold">Domain</label>
                    <div class="d-flex">
                      <select 
                        class="form-control" 
                        id="domainSelect" 
                        formControlName="domainName">
                        <option value="" disabled selected>Select domain</option>
                        <option value=".bnk.in">.bnk.in</option>
                      </select>

                      <!-- Magnifying Glass Button on the Left -->
                      <div>
                        <button 
                        class="btn btn-outline-primary ms-4" 
                        type="button" (click)="onSearch()">
                        <i class="bi bi-search"></i>
                      </button>
                      </div>
                    </div>
                      <small *ngIf="userDomainForm.get('domainName')?.invalid && userDomainForm.get('domainName')?.touched" class="text-danger">
                        Select a Domain.
                      </small>
                   
                    <!-- Validation Error Message -->
                    <!-- <div *ngIf="userDomainForm.get('domain')?.invalid && userDomainForm.get('domain')?.touched" class="text-danger">
                      <small *ngIf="userDomainForm.get('domain')?.hasError('required')">Domain is required.</small>
                    </div> -->
                  </div>

                </div>
              </form>
            </div>
          </div>
        </div>
      </section>

      <!-- Search Result Section (Display when 'showResult' is true) -->
      <section *ngIf="showResult" class="m-4">
        <div class="shadow p-3 bg-body rounded" style="height: 200px; max-width: 300px;">
          <div class="card">
            <div class="card-body p-3 d-flex flex-column justify-content-left align-items-left">
              <div class="card-title fs-4">{{ userDomainForm.get('bankName')?.value }}{{ userDomainForm.get('domain')?.value }}</div>
              <div class="text-success fs-5">
                <i class="bi bi-check-circle text-success fs-3"></i>
                Available
              </div>
              <div class="fs-6">
                Buy for 5 years at 1k/year
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Second Section with Guidelines -->
      <section class="m-4">
        <div class="shadow p-3 mb-5 bg-body rounded">
          <div class="card">
            <h5 class="m-3 mb-1">Keep these Handy</h5>
            <div class="card-body text-muted">
              <ul>
                <li>Submit an authorized letter from your organization, confirming delegation to book the domain.</li>
                <li>Provide a digital certification issued by IDRBT in the name of the authorized official.</li>
                <li>Submit the license issued by the RBI, following guidelines.</li>
                <li>Provide your organization's GSTIN.</li>
                <li>Provide your organization's PAN.</li>
                <li>Include a board resolution approving the domain booking.</li>
                <li>Include contact details of administrative and technical teams.</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- Buttons (Back & Submit) -->
      <div class="d-flex justify-content-between m-4">
        <button class="btn btn-secondary" type="button" aria-label="Go Back">Back</button>
        <button class="btn btn-primary" (click)="onSubmit()" aria-label="Save and Move to Next Step">Save & Next</button>
      </div>
    </div>
  </div>
</div>