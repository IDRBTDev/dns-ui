<!-- <div class="container-fluid">
  <div *ngIf="domainsList?.length == 0">
    <app-reminder></app-reminder>
  </div>
  <div class="row">
   
    <div class="col-md-9 offset-md-1 mt-5 pt-4">
      <section class="m-4">
        <h2 class="m-4">Domain Validation</h2>
        <div class="shadow p-3 mb-4 bg-body rounded">
          <div class="card">
            <div class="card-body">
           
              <form [formGroup]="userDomainForm">
                <div class="row mb-3 justify-content-center">
                
                  <div class="col-md-4 mb-3">
                    <label for="labelInput" class="form-label font-weight-bold">Bank Name</label>
                    <input type="text" class="form-control" id="labelInput" placeholder="Enter the Bank Name"
                      formControlName="label" (input)="reset()">
                 
                    <div *ngIf="userDomainForm.get('label')?.invalid && userDomainForm.get('label')?.touched"
                      class="text-danger">z
                      <small *ngIf="userDomainForm.get('label')?.hasError('required')">Bank Name is required.</small>
                      <small *ngIf="userDomainForm.get('label')?.hasError('minlength')">Bank Name must be at least 3
                        characters long.</small>
                    </div>
                  </div>

                  <div class="col-md-2">
                    <label for="zoneInput" class="form-label font-weight-bold">Domain</label>
                    <div class="d-flex">

                      <select style="width: 150px;" class="form-select" id="zoneInput" formControlName="zone"
                        (change)="reset()">
                        <option value="" disabled selected>Select domain</option>
                        <option value=".bank.in">.bank.in</option>
                        <option value=".fin.in">.fin.in</option>
                     
                      </select>

                      <div>
                        <button class="btn btn-outline-primary ms-4" type="button" (click)="onSearch()">
                          <i class="bi bi-search"></i>
                        </button>
                      
                        <div *ngIf="isLoading" class="spinner-container">
                          <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                          </div>
                        </div>
                      </div>
                    </div>
                    <small *ngIf="userDomainForm.get('zone')?.invalid && userDomainForm.get('zone')?.touched"
                      class="text-danger">
                      Select a Domain.
                    </small>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </section>
      <div class="d-flex justify-content-left m-4">
      
        <section *ngIf="showResult" class="m-4">
          <div class="shadow p-3 bg-body rounded" style="height: 200px; max-width: 300px;">
            <div class="card">
              <div class="card-body p-3 d-flex flex-column justify-content-left align-items-left">
                <div class="card-title fs-4">
                  {{ userDomainForm.get('label')?.value }}{{ userDomainForm.get('zone')?.value }}
                </div>
                <div *ngIf="isReserved" class="text-danger fs-5">
                  <i class="bi bi-x-circle text-danger fs-3"></i> Domain not Available
                </div>
                <div *ngIf="!isReserved" class="text-success fs-5">
                  <i class="bi bi-check-circle text-success fs-3"></i> Available
                </div>
                <br>
                <div *ngIf="!isReserved" class="fs-6">
                  Buy for 2 years at (&#8377;1600 + taxes)/year
                </div>
              </div>
            </div>
          </div>
        </section>
        <section *ngIf="showResult && !isReserved" class="m-4">
          <div class="shadow p-3 bg-body rounded" style="height: 200px; max-width: 300px;">
            <div class="card">
              <div class="card-body p-3 d-flex flex-column justify-content-left align-items-left">
                <div class="card-title fs-4">
                  {{ userDomainForm.get('label')?.value }}{{ userDomainForm.get('zone')?.value }}
                </div>
                <div *ngIf="isReserved" class="text-danger fs-5">
                  <i class="bi bi-x-circle text-danger fs-3"></i> Domain not Available
                </div>
                <div *ngIf="!isReserved" class="text-success fs-5">
                  <i class="bi bi-check-circle text-success fs-3"></i> Available
                </div>
                <br>
                <div *ngIf="!isReserved" class="fs-6">
                  Buy for 5 years at (&#8377;4000 + taxes)/year
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
 
      <section class="m-4">
        <div class="shadow p-3 mb-5 bg-body rounded">
          <div class="card">
            <h5 class="m-3 mb-1">Keep these Handy</h5>
            <div class="card-body text-muted">
              <ul>
                <li>Submit an authorized letter from your organization, confirming delegation to book the domain.</li>
                <li>Provide a digital certification issued by IDRBT in the name of the authorized official.</li>
                <li>Submit the license issued by the RBI, following guidelines.</li>
                <li>Provide your organization's GSTIN.</li>
                <li>Provide your organization's PAN.</li>
                <li>Include a board resolution approving the domain booking.</li>
                <li>Include contact details of administrative and technical teams.</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <div class="d-flex justify-content-between m-4">
        <button class="btn btn-secondary" type="button" aria-label="Go Back" (click)="backButton()">Back</button>
        <button class="btn btn-primary" (click)="onSubmit()" aria-label="Save and Move to Next Step">Save &
          Next</button>
      </div>
    </div>
  </div>
</div> -->

<div class="container-fluid">
  <div *ngIf="domainsList?.length == 0">
    <app-reminder></app-reminder>
  </div>
  <div class="row">
    <!-- Main Content Section -->
    <div class="col-md-9 offset-md-1 mt-5 pt-4">
      <section class="m-4">
        <h2 class="m-4">Domain Validation</h2>
        <div class="shadow p-3 mb-4 bg-body rounded">
          <div class="card">
            <div class="card-body">
              <!-- Bind the form group to the form -->
              <form [formGroup]="userDomainForm">
                <div class="row mb-3 justify-content-center">
                  <!-- Label Field with Magnifying Glass Button -->
                  <div class="col-md-4 mb-3">
                    <label for="labelInput" class="form-label font-weight-bold">Bank Name</label>
                    <input type="text" class="form-control" id="labelInput" placeholder="Enter the Bank Name"
                      formControlName="label" (input)="reset()">
                      <div *ngIf="userDomainForm.get('label')?.invalid && userDomainForm.get('label')?.touched" class="text-danger">
  
                        <!-- Required Error Message -->
                        <small *ngIf="userDomainForm.get('label')?.hasError('required')">Domain name is required.</small>
                      
                        <!-- Min Length Error Message -->
                        <small *ngIf="userDomainForm.get('label')?.hasError('minlength')">Domain name must be at least 3 characters long.</small><br/>
                      
                        <!-- Max Length Error Message -->
                        <small *ngIf="userDomainForm.get('label')?.hasError('maxlength')">Domain name must be less than 63 characters long.</small>
                      
                        <small *ngIf="userDomainForm.get('label')?.hasError('pattern')">
                          Domain name cannot start or end with a hyphen,cannot be capital letters and cannot start with a number and  cannot contain any other special characters.
                        </small>
                      </div>
</div>
<div class="col-md-2">
  <label for="zoneInput" class="form-label font-weight-bold">Domain</label>
  <div class="d-flex align-items-center">
    <select style="flex-grow: 1; min-width: 150px;" class="form-select" id="zoneInput" formControlName="zone" (change)="reset()">
      <option value="" disabled selected>Select domain</option>
      <option value=".bank.in">.bank.in</option>
      <option value=".fin.in">.fin.in</option>
    </select>

    <div class="d-flex align-items-center">
      <button class="btn btn-outline-primary ms-3" type="button" [disabled]="userDomainForm.invalid" (click)="onSearch()">
        <i class="bi bi-search"></i>
      </button>

      <!-- Loading Spinner -->
      <div *ngIf="isLoading" class="spinner-container">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Error Message -->
  <small *ngIf="userDomainForm.get('zone')?.invalid && userDomainForm.get('zone')?.touched" class="danger">
    Select a Domain.
  </small>
</div>

                </div>
              </form>
            </div>
          </div>
        </div>
      </section>
      <div class="d-flex justify-content-left m-4">
        <!-- Search Result Section (Display when 'showResult' is true) -->
        <!-- <section *ngIf="showResult" class="m-4">
          <div class="shadow p-3 bg-body rounded" style="height: 200px; max-width: 300px;">
            <div class="card">
              <div class="card-body p-3 d-flex flex-column justify-content-left align-items-left">
                <div class="card-title fs-4">
                  {{ userDomainForm.get('label')?.value }}{{ userDomainForm.get('zone')?.value }}
                </div>
                <div *ngIf="isReserved" class="text-danger fs-5">
                  <i class="bi bi-x-circle text-danger fs-3"></i> Domain not Available
                </div>
                <div *ngIf="!isReserved" class="text-success fs-5">
                  <i class="bi bi-check-circle text-success fs-3"></i> Available
                </div>
                <br>
                <div *ngIf="!isReserved" class="fs-6">
                  Buy for 2 years at (&#8377;1600 + taxes)/year
                </div>
              </div>
            </div>
          </div>
        </section> -->
        <section *ngIf="showResult" class="m-4">
          <div class="shadow p-3 bg-body rounded" style="height: 200px; max-width: 300px;">
            <div class="card">
              <div class="card-body p-3 d-flex flex-column justify-content-left align-items-left">
                <div class="card-title fs-4">
                  {{ userDomainForm.get('label')?.value }}{{ userDomainForm.get('zone')?.value }}
                </div>
                <div *ngIf="isReserved" class="text-danger fs-5">
                  <i class="bi bi-x-circle text-danger fs-3"></i> Domain not Available
                </div>
                <div *ngIf="!isReserved" class="text-success fs-5">
                  <i class="bi bi-check-circle text-success fs-3"></i> Available
                </div>
                <br>
                <div *ngIf="!isReserved" class="fs-6">
                  Buy for 5 years at (&#8377;4000 + taxes)/year
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
      <!-- Second Section with Guidelines -->
      <section class="m-4">
        <div class="shadow p-3 mb-5 bg-body rounded">
          <div class="card">
            <h5 class="m-3 mb-1">Keep These Handy</h5>
            <div class="card-body text-muted">
              <ul>
                <li>Submit an authorized letter from your organization, confirming delegation to book the domain.</li>
                <li>Provide a digital certification issued by IDRBT in the name of the authorized official.</li>
                <li>Submit the license issued by the RBI, following guidelines.</li>
                <li>Provide your organization's GSTIN.</li>
                <li>Provide your organization's PAN.</li>
                <li>Include a board resolution approving the domain booking.</li>
                <li>Include contact details of administrative and technical teams.</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- Buttons (Back & Submit) -->
      <div class="d-flex justify-content-between m-4">
        <button class="btn btn-secondary" type="button" aria-label="Go Back" (click)="backButton()">Back</button>
        <button class="btn btn-primary" (click)="onSubmit()" aria-label="Save and Move to Next Step">Save &
          Next</button>
      </div>
    </div>
  </div>
</div>

